{% extends "base.html" %}

{% block title %}Create New Project - NexusAI{% endblock %}

{% block content %}
<div class="fade-in">
    <!-- Page Header -->
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900">Create New Project</h1>
        <p class="mt-2 text-gray-600">Describe your app idea and let NexusAI build it for you.</p>
    </div>

    <!-- Progress Stepper - FIXED -->
    <div class="stepper-container mb-10">
        <!-- Background Line -->
        <div class="stepper-line">
            <div class="stepper-line-progress" style="width: {{ (step - 1) * 50 }}%"></div>
        </div>
        
        <!-- Step 1 -->
        <div class="stepper-step {% if step >= 1 %}{% if step > 1 %}completed{% else %}active{% endif %}{% endif %}">
            <div class="stepper-circle">
                {% if step > 1 %}
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                {% else %}1{% endif %}
            </div>
            <span class="stepper-label">Describe</span>
        </div>
        
        <!-- Step 2 -->
        <div class="stepper-step {% if step >= 2 %}{% if step > 2 %}completed{% else %}active{% endif %}{% endif %}">
            <div class="stepper-circle">
                {% if step > 2 %}
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                {% else %}2{% endif %}
            </div>
            <span class="stepper-label">Generate</span>
        </div>
        
        <!-- Step 3 -->
        <div class="stepper-step {% if step >= 3 %}active{% endif %}">
            <div class="stepper-circle">3</div>
            <span class="stepper-label">Deploy</span>
        </div>
    </div>

    <!-- Help Card -->
    <div class="glass-card rounded-xl p-4 mb-8 border-l-4 border-cyan-400">
        <div class="flex items-start gap-3">
            <div class="flex-shrink-0">
                <svg class="w-6 h-6 text-cyan-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </div>
            <div>
                <h3 class="font-semibold text-gray-900">How it works</h3>
                <p class="text-sm text-gray-600 mt-1">Tell us about your app idea in plain English. Our AI will generate a complete, deployable application with all the features you need. You own 100% of the code.</p>
            </div>
        </div>
    </div>

    <!-- Form Card -->
    <div class="glass-card rounded-2xl p-8">
        <form method="POST" action="/projects/create" class="space-y-6">
            <!-- Project Name -->
            <div>
                <label for="name" class="block text-sm font-semibold text-gray-900 mb-2">
                    Project Name <span class="text-red-500">*</span>
                </label>
                <input type="text" 
                       id="name" 
                       name="name" 
                       required
                       placeholder="e.g., TaskFlow Pro"
                       class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all">
                <p class="mt-2 text-sm text-gray-500">A short, memorable name for your project.</p>
            </div>

            <!-- App Description -->
            <div>
                <label for="description" class="block text-sm font-semibold text-gray-900 mb-2">
                    App Description <span class="text-red-500">*</span>
                </label>
                <textarea id="description" 
                          name="description" 
                          rows="5" 
                          required
                          placeholder="Describe your app idea in detail. What problem does it solve? Who is it for? What features should it have?"
                          class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all resize-none"></textarea>
                <p class="mt-2 text-sm text-gray-500">Be as detailed as possible. The more context you provide, the better your app will be.</p>
            </div>

            <!-- AI Model Selection -->
            <div>
                <label class="block text-sm font-semibold text-gray-900 mb-2">AI Model</label>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <label class="relative cursor-pointer">
                        <input type="radio" name="model" value="gpt-4" class="peer sr-only" checked>
                        <div class="p-4 rounded-xl border-2 border-gray-200 peer-checked:border-cyan-400 peer-checked:bg-cyan-50 transition-all">
                            <div class="font-semibold text-gray-900">GPT-4</div>
                            <div class="text-sm text-gray-500">Best for complex apps</div>
                        </div>
                    </label>
                    <label class="relative cursor-pointer">
                        <input type="radio" name="model" value="claude" class="peer sr-only">
                        <div class="p-4 rounded-xl border-2 border-gray-200 peer-checked:border-purple-400 peer-checked:bg-purple-50 transition-all">
                            <div class="font-semibold text-gray-900">Claude</div>
                            <div class="text-sm text-gray-500">Great for detailed code</div>
                        </div>
                    </label>
                    <label class="relative cursor-pointer">
                        <input type="radio" name="model" value="gemini" class="peer sr-only">
                        <div class="p-4 rounded-xl border-2 border-gray-200 peer-checked:border-pink-400 peer-checked:bg-pink-50 transition-all">
                            <div class="font-semibold text-gray-900">Gemini</div>
                            <div class="text-sm text-gray-500">Fast generation</div>
                        </div>
                    </label>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="pt-4">
                <button type="submit" 
                        class="btn-futuristic w-full md:w-auto px-8 py-4 text-white font-semibold rounded-xl flex items-center justify-center gap-2">
                    <span>Generate My App</span>
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
