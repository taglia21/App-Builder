{% extends "base.html" %}
{% block title %}Dashboard - Valeric{% endblock %}

{% block extra_css %}
<style>
    .dashboard-header {
        margin-bottom: 32px;
    }
    .dashboard-header h1 {
        font-size: 1.75rem;
        font-weight: 700;
        color: white;
        margin-bottom: 4px;
    }
    .dashboard-header p {
        font-size: 0.9375rem;
        color: #9ca3af;
    }
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        margin-bottom: 32px;
    }
    .stat-card {
        background: rgba(255,255,255,0.02);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 12px;
        padding: 20px 24px;
    }
    .stat-card-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 12px;
    }
    .stat-icon {
        width: 40px; height: 40px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .stat-icon svg { width: 20px; height: 20px; }
    .stat-icon.purple { background: linear-gradient(135deg, rgba(168,85,247,0.2), rgba(99,102,241,0.2)); }
    .stat-icon.purple svg { color: #a855f7; }
    .stat-icon.green { background: rgba(34,197,94,0.15); }
    .stat-icon.green svg { color: #22c55e; }
    .stat-icon.blue { background: rgba(59,130,246,0.15); }
    .stat-icon.blue svg { color: #3b82f6; }
    .stat-icon.amber { background: rgba(251,191,36,0.15); }
    .stat-icon.amber svg { color: #fbbf24; }
    .stat-label {
        font-size: 0.8125rem;
        color: #9ca3af;
        margin-bottom: 4px;
    }
    .stat-value {
        font-size: 1.75rem;
        font-weight: 700;
        color: white;
    }
    .stat-change {
        font-size: 0.75rem;
        display: flex;
        align-items: center;
        gap: 4px;
        margin-top: 8px;
    }
    .stat-change.positive { color: #22c55e; }
    .stat-change.neutral { color: #9ca3af; }
    .content-grid {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 24px;
    }
    .section-card {
        background: rgba(255,255,255,0.02);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 12px;
        padding: 24px;
    }
    .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    .section-title {
        font-size: 1rem;
        font-weight: 600;
        color: white;
    }
    .project-item {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 16px 0;
        border-bottom: 1px solid rgba(255,255,255,0.04);
    }
    .project-item:last-child { border-bottom: none; }
    .project-icon {
        width: 44px; height: 44px;
        background: linear-gradient(135deg, rgba(168,85,247,0.15), rgba(99,102,241,0.15));
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .project-icon svg { width: 22px; height: 22px; color: #a855f7; }
    .project-info { flex: 1; }
    .project-name {
        font-size: 0.9375rem;
        font-weight: 600;
        color: white;
        margin-bottom: 2px;
    }
    .project-desc {
        font-size: 0.8125rem;
        color: #6b7280;
    }
    .project-status {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 10px;
        border-radius: 6px;
        font-size: 0.75rem;
        font-weight: 500;
    }
    .project-status.deployed { background: rgba(34,197,94,0.15); color: #22c55e; }
    .project-status.building { background: rgba(251,191,36,0.15); color: #fbbf24; }
    .activity-item {
        display: flex;
        gap: 12px;
        padding: 12px 0;
        border-bottom: 1px solid rgba(255,255,255,0.04);
    }
    .activity-item:last-child { border-bottom: none; }
    .activity-dot {
        width: 8px; height: 8px;
        border-radius: 50%;
        margin-top: 6px;
        flex-shrink: 0;
    }
    .activity-dot.green { background: #22c55e; }
    .activity-dot.blue { background: #3b82f6; }
    .activity-dot.purple { background: #a855f7; }
    .activity-text {
        font-size: 0.875rem;
        color: #9ca3af;
        line-height: 1.5;
    }
    .activity-text strong { color: white; }
    .activity-time {
        font-size: 0.75rem;
        color: #6b7280;
        margin-top: 4px;
    }
</style>
{% endblock %}

{% block content %}
<div class="dashboard-header">
    <h1>Welcome back!</h1>
    <p>Here's an overview of your projects and activity.</p>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-card-header">
            <div>
                <div class="stat-label">Total Projects</div>
                <div class="stat-value">{{ stats.total_projects or 2 }}</div>
            </div>
            <div class="stat-icon purple"><i data-lucide="folder"></i></div>
        </div>
        <div class="stat-change positive"><i data-lucide="trending-up" style="width:14px;height:14px;"></i> +2 this month</div>
    </div>
    <div class="stat-card">
        <div class="stat-card-header">
            <div>
                <div class="stat-label">Deployed</div>
                <div class="stat-value">{{ stats.deployed or 1 }}</div>
            </div>
            <div class="stat-icon green"><i data-lucide="rocket"></i></div>
        </div>
        <div class="stat-change positive"><i data-lucide="circle-check" style="width:14px;height:14px;"></i> Live now</div>
    </div>
    <div class="stat-card">
        <div class="stat-card-header">
            <div>
                <div class="stat-label">Building</div>
                <div class="stat-value">{{ stats.building or 1 }}</div>
            </div>
            <div class="stat-icon amber"><i data-lucide="loader"></i></div>
        </div>
        <div class="stat-change neutral"><i data-lucide="clock" style="width:14px;height:14px;"></i> In progress</div>
    </div>
    <div class="stat-card">
        <div class="stat-card-header">
            <div>
                <div class="stat-label">API Calls</div>
                <div class="stat-value">1.2K</div>
            </div>
            <div class="stat-icon blue"><i data-lucide="activity"></i></div>
        </div>
        <div class="stat-change positive"><i data-lucide="trending-up" style="width:14px;height:14px;"></i> +18% vs last week</div>
    </div>
</div>

<div class="content-grid">
    <div class="section-card">
        <div class="section-header">
            <span class="section-title">Recent Projects</span>
            <button class="btn btn-primary" style="padding:8px 16px;font-size:0.8125rem;"><i data-lucide="plus" style="width:14px;height:14px;"></i> New Project</button>
        </div>
        {% for project in projects[:3] %}
        <div class="project-item">
            <div class="project-icon"><i data-lucide="layers"></i></div>
            <div class="project-info">
                <div class="project-name">{{ project.name }}</div>
                <div class="project-desc">{{ project.description or "AI-powered application" }}</div>
            </div>
            <span class="project-status {% if project.status == 'deployed' %}deployed{% else %}building{% endif %}">
                {% if project.status == "deployed" %}
                <i data-lucide="check-circle" style="width:12px;height:12px;"></i> Deployed
                {% else %}
                <i data-lucide="loader" style="width:12px;height:12px;"></i> Building
                {% endif %}
            </span>
        </div>
        {% endfor %}
    </div>
    <div class="section-card">
        <div class="section-header">
            <span class="section-title">Recent Activity</span>
        </div>
        <div class="activity-item">
            <div class="activity-dot green"></div>
            <div>
                <div class="activity-text"><strong>My SaaS App</strong> deployed successfully</div>
                <div class="activity-time">2 hours ago</div>
            </div>
        </div>
        <div class="activity-item">
            <div class="activity-dot blue"></div>
            <div>
                <div class="activity-text"><strong>Portfolio Site</strong> build started</div>
                <div class="activity-time">2 hours ago</div>
            </div>
        </div>
        <div class="activity-item">
            <div class="activity-dot purple"></div>
            <div>
                <div class="activity-text">API key <strong>Production Key</strong> created</div>
                <div class="activity-time">1 day ago</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
