{% extends "base.html" %}

{% block title %}Pricing - LaunchForge{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto px-6 py-8">
    <!-- Header -->
    <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-white mb-4">Simple, Transparent Pricing</h1>
        <p class="text-xl text-gray-400">Choose the plan that fits your needs. All plans include a 14-day free trial.</p>
    </div>

    <!-- Pricing Cards -->
    <div class="grid md:grid-cols-3 gap-8 mb-12">
        <!-- Starter Plan -->
        <div class="card p-8 hover:border-blue-500 transition-all">
            <h3 class="text-2xl font-bold text-gray-900 mb-4">Starter</h3>
            <div class="mb-6">
                <span class="text-5xl font-bold text-gray-900">$9</span>
                <span class="text-gray-400">/month</span>
            </div>
            <ul class="space-y-3 mb-8">
                <li class="flex items-start text-gray-300">
                    <span class="text-green-500 mr-2">✓</span>
                    <span>5 apps/month</span>
                </li>
                <li class="flex items-start text-gray-300">
                    <span class="text-green-500 mr-2">✓</span>
                    <span>Basic templates</span>
                </li>
                <li class="flex items-start text-gray-300">
                    <span class="text-green-500 mr-2">✓</span>
                    <span>Email support</span>
                </li>
            </ul>
            <button onclick="checkout('starter')" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg transition-colors">
                Get Started
            </button>
        </div>

        <!-- Growth Plan (Popular) -->
        <div class="card p-8 border-purple-500 transform scale-105 relative">
            <div class="absolute top-0 right-0 bg-purple-600 text-white px-4 py-1 rounded-bl-lg rounded-tr-lg text-sm font-semibold">
                Most Popular
            </div>
            <h3 class="text-2xl font-bold text-gray-900 mb-4">Growth</h3>
            <div class="mb-6">
                <span class="text-5xl font-bold text-gray-900">$49</span>
                <span class="text-gray-400">/month</span>
            </div>
            <ul class="space-y-3 mb-8">
                <li class="flex items-start text-gray-300">
                    <span class="text-green-500 mr-2">✓</span>
                    <span>25 apps/month</span>
                </li>
                <li class="flex items-start text-gray-300">
                    <span class="text-green-500 mr-2">✓</span>
                    <span>All templates</span>
                </li>
                <li class="flex items-start text-gray-300">
                    <span class="text-green-500 mr-2">✓</span>
                    <span>Priority support</span>
                </li>
                <li class="flex items-start text-gray-300">
                    <span class="text-green-500 mr-2">✓</span>
                    <span>Custom domains</span>
                </li>
            </ul>
            <button onclick="checkout('growth')" class="w-full bg-purple-600 hover:bg-purple-700 text-white py-3 px-6 rounded-lg transition-colors">
                Get Started
            </button>
        </div>

        <!-- Pro Plan -->
        <div class="card p-8 hover:border-blue-500 transition-all">
            <h3 class="text-2xl font-bold text-gray-900 mb-4">Pro</h3>
            <div class="mb-6">
                <span class="text-5xl font-bold text-gray-900">$99</span>
                <span class="text-gray-400">/month</span>
            </div>
            <ul class="space-y-3 mb-8">
                <li class="flex items-start text-gray-300">
                    <span class="text-green-500 mr-2">✓</span>
                    <span>Unlimited apps</span>
                </li>
                <li class="flex items-start text-gray-300">
                    <span class="text-green-500 mr-2">✓</span>
                    <span>All features</span>
                </li>
                <li class="flex items-start text-gray-300">
                    <span class="text-green-500 mr-2">✓</span>
                    <span>24/7 support</span>
                </li>
                <li class="flex items-start text-gray-300">
                    <span class="text-green-500 mr-2">✓</span>
                    <span>White-label</span>
                </li>
                <li class="flex items-start text-gray-300">
                    <span class="text-green-500 mr-2">✓</span>
                    <span>API access</span>
                </li>
            </ul>
            <button onclick="checkout('pro')" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg transition-colors">
                Get Started
            </button>
        </div>
    </div>

    <!-- Footer Info -->
    <div class="text-center">
        <p class="text-gray-400 mb-4">All plans include: SSL certificates, automatic backups, and 99.9% uptime SLA</p>
        <p class="text-gray-400">Questions? <a href="/contact" class="text-blue-400 hover:text-blue-300">Contact our sales team</a></p>
    </div>
</div>

<script>
function checkout(plan) {
    fetch('/billing/create-checkout-session', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ plan: plan })
    })
    .then(response => response.json())
    .then(data => {
        if (data.url) {
            window.location.href = data.url;
        }
    })
    .catch(error => console.error('Error:', error));
}

// EMERGENCY: Remove any massive decorative elements after page load
window.addEventListener('DOMContentLoaded', function() {
    // Wait a bit for any dynamic elements to load
    setTimeout(function() {
            alert('Element hunter JavaScript is running! Scanning for large elements...');
        // Find and remove any SVG, img, or div elements that are suspiciously large
        document.querySelectorAll('svg, img, div').forEach(function(el) {
            const rect = el.getBoundingClientRect();
            // If element is larger than 300px in width or height, hide it unless it's a container
            if ((rect.width > 300 || rect.height > 300) && !el.querySelector('button, input, textarea')) {
                // Check if it's not a main content container
                if (!el.classList.contains('max-w-6xl') && !el.classList.contains('grid') && !el.classList.contains('card')) {
                    el.style.display = 'none';
                    console.log('Removed large decorative element:', el);
                }
            }
        });
    }, 500); // Wait 500ms after page load
});
</script>
{% endblock %}