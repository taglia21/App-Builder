============================= test session starts ==============================
platform linux -- Python 3.12.1, pytest-9.0.2, pluggy-1.6.0 -- /home/codespace/.python/current/bin/python3
cachedir: .pytest_cache
rootdir: /workspaces/App-Builder
configfile: pyproject.toml
plugins: anyio-4.11.0, cov-7.0.0, asyncio-1.3.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 496 items

tests/agents/test_agents.py::TestMessages::test_execution_plan_creation FAILED [  0%]
tests/agents/test_agents.py::TestMessages::test_critic_review FAILED     [  0%]
tests/agents/test_agents.py::TestCodeCritic::test_code_critic_creation FAILED [  0%]
tests/test_auth.py::TestPasswordHashing::test_hash_password PASSED       [  0%]
tests/test_auth.py::TestPasswordHashing::test_hash_is_unique PASSED      [  1%]
tests/test_auth.py::TestPasswordHashing::test_verify_correct_password PASSED [  1%]
tests/test_auth.py::TestPasswordHashing::test_verify_wrong_password PASSED [  1%]
tests/test_auth.py::TestPasswordHashing::test_verify_handles_invalid_hash PASSED [  1%]
tests/test_auth.py::TestPasswordStrength::test_valid_password PASSED     [  1%]
tests/test_auth.py::TestPasswordStrength::test_too_short PASSED          [  2%]
tests/test_auth.py::TestPasswordStrength::test_missing_uppercase PASSED  [  2%]
tests/test_auth.py::TestPasswordStrength::test_missing_lowercase PASSED  [  2%]
tests/test_auth.py::TestPasswordStrength::test_missing_digit PASSED      [  2%]
tests/test_auth.py::TestPasswordStrength::test_multiple_failures PASSED  [  2%]
tests/test_auth.py::TestPasswordStrength::test_check_password_strength_raises PASSED [  3%]
tests/test_auth.py::TestPasswordStrength::test_password_strength_score PASSED [  3%]
tests/test_auth.py::TestJWTTokens::test_create_access_token PASSED       [  3%]
tests/test_auth.py::TestJWTTokens::test_verify_access_token PASSED       [  3%]
tests/test_auth.py::TestJWTTokens::test_create_refresh_token PASSED      [  3%]
tests/test_auth.py::TestJWTTokens::test_token_type_mismatch PASSED       [  4%]
tests/test_auth.py::TestJWTTokens::test_expired_token PASSED             [  4%]
tests/test_auth.py::TestJWTTokens::test_invalid_token PASSED             [  4%]
tests/test_auth.py::TestJWTTokens::test_decode_token PASSED              [  4%]
tests/test_auth.py::TestJWTTokens::test_get_token_expiry PASSED          [  4%]
tests/test_auth.py::TestJWTTokens::test_is_token_expired PASSED          [  5%]
tests/test_auth.py::TestJWTTokens::test_get_user_id_from_token PASSED    [  5%]
tests/test_auth.py::TestJWTTokens::test_additional_claims PASSED         [  5%]
tests/test_auth.py::TestJWTTokens::test_email_verification_token PASSED  [  5%]
tests/test_auth.py::TestJWTTokens::test_password_reset_token PASSED      [  5%]
tests/test_auth.py::TestTokenUtilities::test_generate_secure_token PASSED [  6%]
tests/test_auth.py::TestTokenUtilities::test_tokens_are_unique PASSED    [  6%]
tests/test_auth.py::TestTokenUtilities::test_generate_verification_token PASSED [  6%]
tests/test_auth.py::TestTokenUtilities::test_generate_reset_token PASSED [  6%]
tests/test_auth.py::TestTokenUtilities::test_verify_reset_token_valid PASSED [  6%]
tests/test_auth.py::TestTokenUtilities::test_verify_reset_token_expired PASSED [  7%]
tests/test_auth.py::TestTokenUtilities::test_verify_reset_token_mismatch PASSED [  7%]
tests/test_auth.py::TestTokenUtilities::test_generate_api_token PASSED   [  7%]
tests/test_auth.py::TestTokenUtilities::test_verify_api_token PASSED     [  7%]
tests/test_auth.py::TestTokenUtilities::test_mask_token PASSED           [  7%]
tests/test_auth.py::TestAuthService::test_register_new_user PASSED       [  8%]
tests/test_auth.py::TestAuthService::test_register_duplicate_email PASSED [  8%]
tests/test_auth.py::TestAuthService::test_register_weak_password PASSED  [  8%]
tests/test_auth.py::TestAuthService::test_login_success PASSED           [  8%]
tests/test_auth.py::TestAuthService::test_login_wrong_password PASSED    [  8%]
tests/test_auth.py::TestAuthService::test_login_nonexistent_user PASSED  [  9%]
tests/test_auth.py::TestAuthService::test_refresh_tokens PASSED          [  9%]
tests/test_auth.py::TestAuthService::test_verify_email PASSED            [  9%]
tests/test_auth.py::TestAuthService::test_request_password_reset PASSED  [  9%]
tests/test_auth.py::TestAuthService::test_request_password_reset_nonexistent PASSED [  9%]
tests/test_auth.py::TestAuthService::test_reset_password PASSED          [ 10%]
tests/test_auth.py::TestAuthService::test_change_password PASSED         [ 10%]
tests/test_auth.py::TestAuthService::test_change_password_wrong_current PASSED [ 10%]
tests/test_auth.py::TestAuthService::test_get_user_by_token PASSED       [ 10%]
tests/test_auth.py::TestMiddleware::test_extract_token_from_header PASSED [ 10%]
tests/test_auth.py::TestMiddleware::test_extract_token_no_header PASSED  [ 11%]
tests/test_auth.py::TestMiddleware::test_extract_token_wrong_scheme PASSED [ 11%]
tests/test_auth.py::TestMiddleware::test_get_current_user_id PASSED      [ 11%]
tests/test_auth.py::TestMiddleware::test_get_current_user_id_missing_token PASSED [ 11%]
tests/test_auth.py::TestMiddleware::test_get_current_user_id_expired_token PASSED [ 11%]
tests/test_auth.py::TestMiddleware::test_jwt_middleware_excluded_paths PASSED [ 12%]
tests/test_auth.py::TestMiddleware::test_jwt_middleware_authenticate PASSED [ 12%]
tests/test_auth.py::TestSchemas::test_register_request_valid PASSED      [ 12%]
tests/test_auth.py::TestSchemas::test_register_request_weak_password PASSED [ 12%]
tests/test_auth.py::TestSchemas::test_login_request_valid PASSED         [ 12%]
tests/test_auth.py::TestSchemas::test_reset_password_request_valid PASSED [ 13%]
tests/test_auth.py::TestSchemas::test_reset_password_request_weak PASSED [ 13%]
tests/test_auth.py::TestAuthIntegration::test_full_registration_to_login_flow PASSED [ 13%]
tests/test_auth.py::TestAuthIntegration::test_password_reset_flow PASSED [ 13%]
tests/test_business.py::TestBusinessModels::test_business_type_enum PASSED [ 13%]
tests/test_business.py::TestBusinessModels::test_formation_state_enum PASSED [ 14%]
tests/test_business.py::TestBusinessModels::test_formation_status_enum PASSED [ 14%]
tests/test_business.py::TestBusinessModels::test_formation_request_validation PASSED [ 14%]
tests/test_business.py::TestBusinessModels::test_formation_request_min_length PASSED [ 14%]
tests/test_business.py::TestBusinessModels::test_formation_result_model PASSED [ 14%]
tests/test_business.py::TestBusinessModels::test_ein_request_model PASSED [ 15%]
tests/test_business.py::TestBusinessModels::test_banking_request_model PASSED [ 15%]
tests/test_business.py::TestBusinessModels::test_domain_request_model PASSED [ 15%]
tests/test_business.py::TestBusinessModels::test_domain_request_years_validation PASSED [ 15%]
tests/test_business.py::TestBusinessModels::test_formation_prices_constant PASSED [ 15%]
tests/test_business.py::TestMockFormationProvider::test_submit_formation PASSED [ 16%]
tests/test_business.py::TestMockFormationProvider::test_get_formation_status PASSED [ 16%]
tests/test_business.py::TestMockFormationProvider::test_formation_not_found PASSED [ 16%]
tests/test_business.py::TestMockFormationProvider::test_complete_formation PASSED [ 16%]
tests/test_business.py::TestMockFormationProvider::test_submit_ein_application PASSED [ 16%]
tests/test_business.py::TestMockFormationProvider::test_complete_ein PASSED [ 17%]
tests/test_business.py::TestMockFormationProvider::test_get_pricing PASSED [ 17%]
tests/test_business.py::TestFormationService::test_form_llc PASSED       [ 17%]
tests/test_business.py::TestFormationService::test_get_status PASSED     [ 17%]
tests/test_business.py::TestFormationService::test_estimate_cost PASSED  [ 17%]
tests/test_business.py::TestMockDomainProvider::test_check_availability_available PASSED [ 18%]
tests/test_business.py::TestMockDomainProvider::test_check_availability_unavailable PASSED [ 18%]
tests/test_business.py::TestMockDomainProvider::test_register_domain PASSED [ 18%]
tests/test_business.py::TestMockDomainProvider::test_register_unavailable_domain PASSED [ 18%]
tests/test_business.py::TestMockDomainProvider::test_get_domain_status PASSED [ 18%]
tests/test_business.py::TestMockDomainProvider::test_update_nameservers PASSED [ 19%]
tests/test_business.py::TestMockDomainProvider::test_get_pricing PASSED  [ 19%]
tests/test_business.py::TestDomainService::test_check_domain PASSED      [ 19%]
tests/test_business.py::TestDomainService::test_register_domain PASSED   [ 19%]
tests/test_business.py::TestDomainService::test_suggest_domains PASSED   [ 19%]
tests/test_business.py::TestMockBankingProvider::test_submit_application PASSED [ 20%]
tests/test_business.py::TestMockBankingProvider::test_get_application_status PASSED [ 20%]
tests/test_business.py::TestMockBankingProvider::test_approve_application PASSED [ 20%]
tests/test_business.py::TestMockBankingProvider::test_application_not_found PASSED [ 20%]
tests/test_business.py::TestBankingService::test_apply_for_account PASSED [ 20%]
tests/test_business.py::TestBusinessFormationStatus::test_default_status PASSED [ 21%]
tests/test_business.py::TestBusinessFormationStatus::test_is_complete_false PASSED [ 21%]
tests/test_business.py::TestBusinessFormationStatus::test_is_complete_true PASSED [ 21%]
tests/test_business.py::TestBusinessFormationStatus::test_completion_percentage_zero PASSED [ 21%]
tests/test_business.py::TestBusinessFormationStatus::test_completion_percentage_partial PASSED [ 21%]
tests/test_business.py::TestBusinessFormationStatus::test_completion_percentage_full PASSED [ 22%]
tests/test_business.py::TestBusinessFormationStatus::test_to_dict PASSED [ 22%]
tests/test_business.py::TestBusinessFormationService::test_start_formation PASSED [ 22%]
tests/test_business.py::TestBusinessFormationService::test_check_domain_availability PASSED [ 22%]
tests/test_business.py::TestBusinessFormationService::test_suggest_domains PASSED [ 22%]
tests/test_business.py::TestBusinessFormationService::test_register_domain PASSED [ 23%]
tests/test_business.py::TestBusinessFormationService::test_get_status PASSED [ 23%]
tests/test_business.py::TestBusinessFormationService::test_estimate_costs PASSED [ 23%]
tests/test_business.py::TestBusinessFormationService::test_estimate_costs_no_domain PASSED [ 23%]
tests/test_business.py::TestFactoryFunctions::test_create_business_service PASSED [ 23%]
tests/test_business.py::TestErrorHandling::test_formation_error PASSED   [ 24%]
tests/test_business.py::TestErrorHandling::test_domain_error PASSED      [ 24%]
tests/test_business.py::TestErrorHandling::test_banking_error PASSED     [ 24%]
tests/test_config_comprehensive.py::TestConfigModule::test_config_imports PASSED [ 24%]
tests/test_config_comprehensive.py::TestConfigModule::test_database_config PASSED [ 25%]
tests/test_config_comprehensive.py::TestConfigModule::test_llm_config PASSED [ 25%]
tests/test_config_comprehensive.py::TestConfigModule::test_scoring_config PASSED [ 25%]
tests/test_config_comprehensive.py::TestHealthEndpoint::test_health_module_imports PASSED [ 25%]
tests/test_config_comprehensive.py::TestHealthEndpoint::test_health_check_structure PASSED [ 25%]
tests/test_dashboard.py::TestAPIModels::test_project_create_model PASSED [ 26%]
tests/test_dashboard.py::TestAPIModels::test_project_create_with_optional_fields PASSED [ 26%]
tests/test_dashboard.py::TestAPIModels::test_project_response_model PASSED [ 26%]
tests/test_dashboard.py::TestAPIModels::test_project_status_enum PASSED  [ 26%]
tests/test_dashboard.py::TestAPIModels::test_generation_status_model PASSED [ 26%]
tests/test_dashboard.py::TestAPIModels::test_deployment_status_model PASSED [ 27%]
tests/test_dashboard.py::TestAPIModels::test_subscription_info_model PASSED [ 27%]
tests/test_dashboard.py::TestAPIModels::test_api_key_response_model PASSED [ 27%]
tests/test_dashboard.py::TestAPIRoutes::test_list_projects PASSED        [ 27%]
tests/test_dashboard.py::TestAPIRoutes::test_list_projects_with_pagination PASSED [ 27%]
tests/test_dashboard.py::TestAPIRoutes::test_get_project PASSED          [ 28%]
tests/test_dashboard.py::TestAPIRoutes::test_create_project PASSED       [ 28%]
tests/test_dashboard.py::TestAPIRoutes::test_update_project PASSED       [ 28%]
tests/test_dashboard.py::TestAPIRoutes::test_delete_project PASSED       [ 28%]
tests/test_dashboard.py::TestAPIRoutes::test_start_generation PASSED     [ 28%]
tests/test_dashboard.py::TestAPIRoutes::test_get_generation_status PASSED [ 29%]
tests/test_dashboard.py::TestAPIRoutes::test_start_deployment PASSED     [ 29%]
tests/test_dashboard.py::TestAPIRoutes::test_get_deployment_status PASSED [ 29%]
tests/test_dashboard.py::TestAPIRoutes::test_get_subscription PASSED     [ 29%]
tests/test_dashboard.py::TestAPIRoutes::test_create_checkout_session PASSED [ 29%]
tests/test_dashboard.py::TestAPIRoutes::test_create_portal_session PASSED [ 30%]
tests/test_dashboard.py::TestAPIRoutes::test_list_api_keys PASSED        [ 30%]
tests/test_dashboard.py::TestAPIRoutes::test_create_api_key PASSED       [ 30%]
tests/test_dashboard.py::TestAPIRoutes::test_revoke_api_key PASSED       [ 30%]
tests/test_dashboard.py::TestAPIRouter::test_create_api_router PASSED    [ 30%]
tests/test_dashboard.py::TestDashboardRoutes::test_dashboard_routes_initialization PASSED [ 31%]
tests/test_dashboard.py::TestDashboardRoutes::test_home_route PASSED     [ 31%]
tests/test_dashboard.py::TestDashboardRoutes::test_dashboard_route PASSED [ 31%]
tests/test_dashboard.py::TestDashboardRoutes::test_new_project_route PASSED [ 31%]
tests/test_dashboard.py::TestDashboardRoutes::test_settings_route PASSED [ 31%]
tests/test_dashboard.py::TestDashboardRoutes::test_billing_route PASSED  [ 32%]
tests/test_dashboard.py::TestDashboardRouter::test_create_dashboard_router PASSED [ 32%]
tests/test_dashboard.py::TestDashboardApp::test_dashboard_app_creation PASSED [ 32%]
tests/test_dashboard.py::TestDashboardApp::test_dashboard_app_with_custom_title PASSED [ 32%]
tests/test_dashboard.py::TestDashboardApp::test_dashboard_app_is_fastapi PASSED [ 32%]
tests/test_dashboard.py::TestDashboardApp::test_create_app_factory PASSED [ 33%]
tests/test_dashboard.py::TestDashboardIntegration::test_home_page PASSED [ 33%]
tests/test_dashboard.py::TestDashboardIntegration::test_dashboard_page PASSED [ 33%]
tests/test_database.py::TestUserModel::test_create_user PASSED           [ 33%]
tests/test_database.py::TestUserModel::test_user_has_credits PASSED      [ 33%]
tests/test_database.py::TestUserModel::test_user_use_credits PASSED      [ 34%]
tests/test_database.py::TestUserModel::test_user_soft_delete PASSED      [ 34%]
tests/test_database.py::TestUserModel::test_user_restore PASSED          [ 34%]
tests/test_database.py::TestUserModel::test_user_repr PASSED             [ 34%]
tests/test_database.py::TestProjectModel::test_create_project PASSED     [ 34%]
tests/test_database.py::TestProjectModel::test_project_user_relationship PASSED [ 35%]
tests/test_database.py::TestProjectModel::test_project_status_transitions PASSED [ 35%]
tests/test_database.py::TestGenerationModel::test_create_generation PASSED [ 35%]
tests/test_database.py::TestGenerationModel::test_generation_project_relationship PASSED [ 35%]
tests/test_database.py::TestGenerationModel::test_generation_with_results PASSED [ 35%]
tests/test_database.py::TestDeploymentModel::test_create_deployment PASSED [ 36%]
tests/test_database.py::TestDeploymentModel::test_deployment_mark_success PASSED [ 36%]
tests/test_database.py::TestDeploymentModel::test_deployment_mark_failed PASSED [ 36%]
tests/test_database.py::TestDeploymentModel::test_deployment_add_log PASSED [ 36%]
tests/test_database.py::TestUserRepository::test_create_user PASSED      [ 36%]
tests/test_database.py::TestUserRepository::test_get_by_email PASSED     [ 37%]
tests/test_database.py::TestUserRepository::test_get_by_email_not_found PASSED [ 37%]
tests/test_database.py::TestUserRepository::test_use_credits PASSED      [ 37%]
tests/test_database.py::TestUserRepository::test_add_credits PASSED      [ 37%]
tests/test_database.py::TestProjectRepository::test_create_project PASSED [ 37%]
tests/test_database.py::TestProjectRepository::test_get_user_projects PASSED [ 38%]
tests/test_database.py::TestProjectRepository::test_update_status PASSED [ 38%]
tests/test_database.py::TestProjectRepository::test_search_projects PASSED [ 38%]
tests/test_database.py::TestGenerationRepository::test_create_generation PASSED [ 38%]
tests/test_database.py::TestGenerationRepository::test_complete_generation PASSED [ 38%]
tests/test_database.py::TestGenerationRepository::test_get_total_tokens PASSED [ 39%]
tests/test_database.py::TestDeploymentRepository::test_create_deployment PASSED [ 39%]
tests/test_database.py::TestDeploymentRepository::test_deployment_lifecycle PASSED [ 39%]
tests/test_database.py::TestDeploymentRepository::test_get_latest_successful PASSED [ 39%]
tests/test_database.py::TestDatabaseManager::test_get_database_url_fallback PASSED [ 39%]
tests/test_database.py::TestDatabaseManager::test_get_database_url_from_env PASSED [ 40%]
tests/test_database.py::TestDatabaseManager::test_postgres_url_conversion PASSED [ 40%]
tests/test_database.py::TestDatabaseIntegration::test_full_user_project_workflow PASSED [ 40%]
tests/test_deployment.py::TestGitHubClient::test_init_requires_token PASSED [ 40%]
tests/test_deployment.py::TestGitHubClient::test_init_with_token PASSED  [ 40%]
tests/test_deployment.py::TestGitHubClient::test_create_repository PASSED [ 41%]
tests/test_deployment.py::TestGitHubClient::test_get_repository PASSED   [ 41%]
tests/test_deployment.py::TestGitHubClient::test_delete_repository PASSED [ 41%]
tests/test_deployment.py::TestGitHubRepo::test_to_dict PASSED            [ 41%]
tests/test_deployment.py::TestWorkflowRun::test_is_success PASSED        [ 41%]
tests/test_deployment.py::TestWorkflowRun::test_is_running PASSED        [ 42%]
tests/test_deployment.py::TestDeploymentPlan::test_default_values PASSED [ 42%]
tests/test_deployment.py::TestDeploymentSummary::test_to_dict PASSED     [ 42%]
tests/test_deployment.py::TestStageResult::test_success_result PASSED    [ 42%]
tests/test_deployment.py::TestStageResult::test_failed_result PASSED     [ 42%]
tests/test_deployment.py::TestDeploymentOrchestrator::test_initialization PASSED [ 43%]
tests/test_deployment.py::TestDeploymentOrchestrator::test_initialization_with_explicit_tokens PASSED [ 43%]
tests/test_deployment.py::TestDeploymentOrchestrator::test_deploy_creates_summary PASSED [ 43%]
tests/test_deployment.py::TestDeploymentOrchestrator::test_get_deployment_status PASSED [ 43%]
tests/test_deployment.py::TestDeploymentOrchestrator::test_list_deployments PASSED [ 43%]
tests/test_deployment.py::TestDeploymentStatus::test_status_values PASSED [ 44%]
tests/test_deployment.py::TestDeploymentStage::test_stage_values PASSED  [ 44%]
tests/test_email_integration.py::TestEmailClientInitialization::test_client_creation_without_api_key PASSED [ 44%]
tests/test_email_integration.py::TestEmailClientInitialization::test_client_creation_with_api_key PASSED [ 44%]
tests/test_email_integration.py::TestEmailClientInitialization::test_client_with_explicit_parameters PASSED [ 44%]
tests/test_email_integration.py::TestEmailClientInitialization::test_validate_configuration_raises_on_missing_key PASSED [ 45%]
tests/test_email_integration.py::TestTemplateRendering::test_render_verification_template PASSED [ 45%]
tests/test_email_integration.py::TestTemplateRendering::test_render_missing_template_raises PASSED [ 45%]
tests/test_email_integration.py::TestTemplateRendering::test_render_template_with_syntax_error PASSED [ 45%]
tests/test_email_integration.py::TestEmailSending::test_send_email_without_configuration PASSED [ 45%]
tests/test_email_integration.py::TestEmailSending::test_send_email_without_configuration_raises PASSED [ 46%]
tests/test_email_integration.py::TestEmailSending::test_send_email_no_recipients PASSED [ 46%]
tests/test_email_integration.py::TestEmailSending::test_send_email_success PASSED [ 46%]
tests/test_email_integration.py::TestEmailSending::test_send_email_rate_limited PASSED [ 46%]
tests/test_email_integration.py::TestEmailSending::test_send_email_rate_limited_raises PASSED [ 46%]
tests/test_email_integration.py::TestEmailSending::test_send_email_server_error_retries PASSED [ 47%]
tests/test_email_integration.py::TestEmailSending::test_send_email_timeout_retries PASSED [ 47%]
tests/test_email_integration.py::TestEmailSending::test_send_email_client_error_no_retry PASSED [ 47%]
tests/test_email_integration.py::TestEmailSending::test_send_email_with_attachments PASSED [ 47%]
tests/test_email_integration.py::TestConvenienceFunctions::test_send_verification_email PASSED [ 47%]
tests/test_email_integration.py::TestConvenienceFunctions::test_send_welcome_email PASSED [ 48%]
tests/test_email_integration.py::TestMetricsTracking::test_success_tracked PASSED [ 48%]
tests/test_email_integration.py::TestMetricsTracking::test_failure_tracked PASSED [ 48%]
tests/test_enhanced_generator.py::TestMarketResearch::test_initialization PASSED [ 48%]
tests/test_enhanced_generator.py::TestMarketResearch::test_dataclass_fields PASSED [ 48%]
tests/test_enhanced_generator.py::TestConstants::test_trending_categories_not_empty PASSED [ 49%]
tests/test_enhanced_generator.py::TestConstants::test_hot_verticals_not_empty PASSED [ 49%]
tests/test_enhanced_generator.py::TestConstants::test_competitor_gaps_not_empty PASSED [ 49%]
tests/test_enhanced_generator.py::TestConstants::test_trending_categories_are_strings PASSED [ 49%]
tests/test_enhanced_generator.py::TestConstants::test_hot_verticals_are_strings PASSED [ 50%]
tests/test_enhanced_generator.py::TestConstants::test_competitor_gaps_are_strings PASSED [ 50%]
tests/test_enhanced_generator.py::TestConstants::test_expected_trending_categories PASSED [ 50%]
tests/test_enhanced_generator.py::TestConstants::test_expected_hot_verticals PASSED [ 50%]
tests/test_enhanced_generator.py::TestConstants::test_expected_competitor_gaps PASSED [ 50%]
tests/test_enhanced_generator.py::TestMarketResearchUsage::test_market_research_with_empty_lists PASSED [ 51%]
tests/test_enhanced_generator.py::TestMarketResearchUsage::test_market_research_iteration PASSED [ 51%]
tests/test_enhanced_generator.py::TestMarketResearchUsage::test_market_research_funding_access PASSED [ 51%]
tests/test_enhanced_generator.py::TestConstantContent::test_trending_categories_unique PASSED [ 51%]
tests/test_enhanced_generator.py::TestConstantContent::test_hot_verticals_unique PASSED [ 51%]
tests/test_enhanced_generator.py::TestConstantContent::test_competitor_gaps_unique PASSED [ 52%]
tests/test_enhanced_generator.py::TestConstantContent::test_categories_have_reasonable_count PASSED [ 52%]
tests/test_enhanced_generator.py::TestConstantContent::test_verticals_have_reasonable_count PASSED [ 52%]
tests/test_enhanced_generator.py::TestConstantContent::test_gaps_have_reasonable_count PASSED [ 52%]
tests/test_enhanced_generator.py::TestModuleImports::test_can_import_market_research PASSED [ 52%]
tests/test_enhanced_generator.py::TestModuleImports::test_can_import_constants PASSED [ 53%]
tests/test_enhanced_generator.py::TestModuleImports::test_can_import_enhanced_generator PASSED [ 53%]
tests/test_enhanced_generator.py::TestMarketResearchEdgeCases::test_large_technology_list PASSED [ 53%]
tests/test_enhanced_generator.py::TestMarketResearchEdgeCases::test_special_characters_in_values PASSED [ 53%]
tests/test_enhanced_generator.py::TestMarketResearchEdgeCases::test_unicode_values PASSED [ 53%]
tests/test_enhanced_generator.py::TestConstantsForIdeas::test_categories_cover_ai PASSED [ 54%]
tests/test_enhanced_generator.py::TestConstantsForIdeas::test_verticals_cover_finance PASSED [ 54%]
tests/test_enhanced_generator.py::TestConstantsForIdeas::test_gaps_cover_ux PASSED [ 54%]
tests/test_generator.py::TestGeneratedAppStructure::test_generates_backend_core_files PASSED [ 54%]
tests/test_generator.py::TestGeneratedAppStructure::test_generates_frontend_config_files PASSED [ 54%]
tests/test_generator.py::TestGeneratedAppStructure::test_generates_env_files PASSED [ 55%]
tests/test_generator.py::TestGeneratedAppStructure::test_generates_docker_compose_with_healthchecks PASSED [ 55%]
tests/test_generator.py::TestGeneratedAppStructure::test_generates_health_endpoints PASSED [ 55%]
tests/test_generator.py::TestGeneratedAppStructure::test_generates_db_retry_logic PASSED [ 55%]
tests/test_generator.py::TestGeneratedAppStructure::test_generates_secret_key_validation PASSED [ 55%]
tests/test_generator.py::TestGeneratedAppStructure::test_generates_readme_with_quickstart PASSED [ 56%]
tests/test_generator.py::TestGeneratedAppStructure::test_theme_applied_to_globals_css PASSED [ 56%]
tests/test_generator.py::TestGeneratedAppStructure::test_navigation_config_has_entity PASSED [ 56%]
tests/test_generator.py::TestGeneratedAppStructure::test_file_count_reasonable PASSED [ 56%]
tests/test_generator.py::TestGeneratedAppStructure::test_cors_function_defined_before_use PASSED [ 56%]
tests/test_generator.py::TestGeneratedAppStructure::test_app_has_required_startup_scripts PASSED [ 57%]
tests/test_generator.py::TestGeneratedAppStructure::test_schema_files_import_dict PASSED [ 57%]
tests/test_generator.py::TestGeneratorMetrics::test_returns_codebase_object PASSED [ 57%]
tests/test_generator.py::TestGeneratorMetrics::test_metrics_populated PASSED [ 57%]
tests/test_idea_generation.py::test_idea_generation PASSED               [ 57%]
tests/test_intelligence.py::test_intelligence_engine_initialization PASSED [ 58%]
tests/test_intelligence.py::test_intelligence_gathering_structure PASSED [ 58%]
tests/test_monitoring.py::TestSentryConfig::test_default_config PASSED   [ 58%]
tests/test_monitoring.py::TestSentryConfig::test_custom_config PASSED    [ 58%]
tests/test_monitoring.py::TestSentryConfig::test_from_env PASSED         [ 58%]
tests/test_monitoring.py::TestSentryClient::test_client_without_dsn PASSED [ 59%]
tests/test_monitoring.py::TestSentryClient::test_client_methods_without_sdk PASSED [ 59%]
tests/test_monitoring.py::TestErrorModels::test_error_severity_enum PASSED [ 59%]
tests/test_monitoring.py::TestErrorModels::test_error_category_enum PASSED [ 59%]
tests/test_monitoring.py::TestErrorModels::test_error_context PASSED     [ 59%]
tests/test_monitoring.py::TestErrorModels::test_error_context_sanitizes_headers PASSED [ 60%]
tests/test_monitoring.py::TestErrorModels::test_error_report PASSED      [ 60%]
tests/test_monitoring.py::TestErrorModels::test_error_report_to_json PASSED [ 60%]
tests/test_monitoring.py::TestConsoleReporter::test_report_logs_message PASSED [ 60%]
tests/test_monitoring.py::TestFileReporter::test_report_writes_to_file PASSED [ 60%]
tests/test_monitoring.py::TestCompositeReporter::test_reports_to_all PASSED [ 61%]
tests/test_monitoring.py::TestCompositeReporter::test_handles_reporter_failure PASSED [ 61%]
tests/test_monitoring.py::TestCreateErrorReport::test_creates_from_exception PASSED [ 61%]
tests/test_monitoring.py::TestHealthModels::test_health_status_enum PASSED [ 61%]
tests/test_monitoring.py::TestHealthModels::test_component_health PASSED [ 61%]
tests/test_monitoring.py::TestHealthModels::test_health_check_result PASSED [ 62%]
tests/test_monitoring.py::TestExternalServiceHealthCheck::test_check_healthy_service PASSED [ 62%]
tests/test_monitoring.py::TestExternalServiceHealthCheck::test_check_unhealthy_service PASSED [ 62%]
tests/test_monitoring.py::TestCallableHealthCheck::test_sync_callable PASSED [ 62%]
tests/test_monitoring.py::TestCallableHealthCheck::test_async_callable PASSED [ 62%]
tests/test_monitoring.py::TestHealthCheckRegistry::test_register_and_check PASSED [ 63%]
tests/test_monitoring.py::TestHealthCheckRegistry::test_overall_status_unhealthy PASSED [ 63%]
tests/test_monitoring.py::TestCounter::test_increment PASSED             [ 63%]
tests/test_monitoring.py::TestCounter::test_increment_negative_raises PASSED [ 63%]
tests/test_monitoring.py::TestCounter::test_labels PASSED                [ 63%]
tests/test_monitoring.py::TestGauge::test_set PASSED                     [ 64%]
tests/test_monitoring.py::TestGauge::test_inc_dec PASSED                 [ 64%]
tests/test_monitoring.py::TestHistogram::test_observe PASSED             [ 64%]
tests/test_monitoring.py::TestHistogram::test_time_context_manager PASSED [ 64%]
tests/test_monitoring.py::TestTimer::test_record PASSED                  [ 64%]
tests/test_monitoring.py::TestTimer::test_time_context PASSED            [ 65%]
tests/test_monitoring.py::TestMetricsCollector::test_counter_creation PASSED [ 65%]
tests/test_monitoring.py::TestMetricsCollector::test_export PASSED       [ 65%]
tests/test_monitoring.py::TestAlertModels::test_alert_severity_enum PASSED [ 65%]
tests/test_monitoring.py::TestAlertModels::test_alert_channel_enum PASSED [ 65%]
tests/test_monitoring.py::TestAlertModels::test_alert_model PASSED       [ 66%]
tests/test_monitoring.py::TestSlackAlerter::test_send_without_webhook PASSED [ 66%]
tests/test_monitoring.py::TestSlackAlerter::test_send_with_webhook PASSED [ 66%]
tests/test_monitoring.py::TestSlackAlerter::test_severity_filtering PASSED [ 66%]
tests/test_monitoring.py::TestPagerDutyAlerter::test_send_without_key PASSED [ 66%]
tests/test_monitoring.py::TestAlertManager::test_send_to_multiple_channels PASSED [ 67%]
tests/test_monitoring.py::TestAlertManager::test_history_tracking PASSED [ 67%]
tests/test_monitoring.py::TestFactoryFunctions::test_create_error_reporter PASSED [ 67%]
tests/test_monitoring.py::TestFactoryFunctions::test_get_metrics_singleton PASSED [ 67%]
tests/test_monitoring_sentry.py::TestSentryIntegration::test_init_sentry_no_dsn PASSED [ 67%]
tests/test_monitoring_sentry.py::TestSentryIntegration::test_init_sentry_with_dsn_no_sdk PASSED [ 68%]
tests/test_monitoring_sentry.py::TestSentryIntegration::test_capture_exception_no_sdk PASSED [ 68%]
tests/test_monitoring_sentry.py::TestSentryIntegration::test_capture_message_no_sdk PASSED [ 68%]
tests/test_monitoring_sentry.py::TestSentryWithMockedSDK::test_init_sentry_success PASSED [ 68%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_generate_verification_token PASSED [ 68%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_validate_verification_token_valid PASSED [ 69%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_validate_verification_token_empty PASSED [ 69%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_validate_verification_token_too_short PASSED [ 69%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_validate_verification_token_invalid_chars PASSED [ 69%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_create_verification_token PASSED [ 69%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_send_verification_for_user_success PASSED [ 70%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_send_verification_for_user_failure PASSED [ 70%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_verify_token_and_get_user_success PASSED [ 70%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_verify_token_and_get_user_invalid_token PASSED [ 70%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_verify_token_and_get_user_not_found PASSED [ 70%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_verify_token_and_get_user_already_verified PASSED [ 71%]
tests/test_onboarding_flow.py::TestEmailVerificationFlow::test_verify_token_and_get_user_expired PASSED [ 71%]
tests/test_onboarding_flow.py::TestOnboardingStatusTracking::test_track_email_verified_step PASSED [ 71%]
tests/test_onboarding_flow.py::TestOnboardingStatusTracking::test_track_api_keys_step PASSED [ 71%]
tests/test_onboarding_flow.py::TestOnboardingStatusTracking::test_track_first_app_step PASSED [ 71%]
tests/test_onboarding_flow.py::TestOnboardingStatusTracking::test_track_first_deploy_step PASSED [ 72%]
tests/test_onboarding_flow.py::TestOnboardingAPIEndpoint::test_get_onboarding_status PASSED [ 72%]
tests/test_onboarding_flow.py::TestOnboardingAPIEndpoint::test_onboarding_status_all_complete PASSED [ 72%]
tests/test_onboarding_flow.py::TestOnboardingAPIEndpoint::test_onboarding_status_partial PASSED [ 72%]
tests/test_onboarding_flow.py::TestOnboardingIntegration::test_new_user_onboarding_flow PASSED [ 72%]
tests/test_onboarding_flow.py::TestOnboardingIntegration::test_verification_triggers_onboarding_update PASSED [ 73%]
tests/test_onboarding_flow.py::TestResendVerification::test_resend_to_unverified_user PASSED [ 73%]
tests/test_onboarding_flow.py::TestResendVerification::test_resend_to_verified_user_ignored PASSED [ 73%]
tests/test_onboarding_flow.py::TestResendVerification::test_resend_to_nonexistent_user_silent PASSED [ 73%]
tests/test_payments.py::TestStripeClient::test_init_with_api_key PASSED  [ 73%]
tests/test_payments.py::TestStripeClient::test_init_without_api_key PASSED [ 74%]
tests/test_payments.py::TestStripeClient::test_create_customer PASSED    [ 74%]
tests/test_payments.py::TestStripeClient::test_get_customer PASSED       [ 74%]
tests/test_payments.py::TestStripeClient::test_update_customer PASSED    [ 74%]
tests/test_payments.py::TestStripeClient::test_delete_customer PASSED    [ 75%]
tests/test_payments.py::TestStripeClient::test_create_subscription PASSED [ 75%]
tests/test_payments.py::TestStripeClient::test_update_subscription PASSED [ 75%]
tests/test_payments.py::TestStripeClient::test_cancel_subscription_immediately PASSED [ 75%]
tests/test_payments.py::TestStripeClient::test_create_payment_intent PASSED [ 75%]
tests/test_payments.py::TestStripeClient::test_create_checkout_session PASSED [ 76%]
tests/test_payments.py::TestStripeErrorHandling::test_card_error_raises_payment_error PASSED [ 76%]
tests/test_payments.py::TestStripeErrorHandling::test_invalid_request_error_handling PASSED [ 76%]
tests/test_payments.py::TestSubscriptionTiers::test_all_tiers_defined PASSED [ 76%]
tests/test_payments.py::TestSubscriptionTiers::test_free_tier_pricing PASSED [ 76%]
tests/test_payments.py::TestSubscriptionTiers::test_pro_tier_pricing PASSED [ 77%]
tests/test_payments.py::TestSubscriptionTiers::test_enterprise_tier_pricing PASSED [ 77%]
tests/test_payments.py::TestSubscriptionTiers::test_free_tier_limits PASSED [ 77%]
tests/test_payments.py::TestSubscriptionTiers::test_pro_tier_features PASSED [ 77%]
tests/test_payments.py::TestSubscriptionTiers::test_enterprise_unlimited PASSED [ 77%]
tests/test_payments.py::TestUserSubscription::test_can_create_app_free_tier PASSED [ 78%]
tests/test_payments.py::TestUserSubscription::test_can_create_app_pro_tier PASSED [ 78%]
tests/test_payments.py::TestUserSubscription::test_can_create_app_enterprise_unlimited PASSED [ 78%]
tests/test_payments.py::TestUserSubscription::test_apps_remaining_calculation PASSED [ 78%]
tests/test_payments.py::TestUserSubscription::test_to_dict PASSED        [ 78%]
tests/test_payments.py::TestSubscriptionManager::test_get_plan PASSED    [ 79%]
tests/test_payments.py::TestSubscriptionManager::test_get_all_plans PASSED [ 79%]
tests/test_payments.py::TestSubscriptionManager::test_create_free_subscription PASSED [ 79%]
tests/test_payments.py::TestSubscriptionManager::test_check_feature_access PASSED [ 79%]
tests/test_payments.py::TestWebhookEvent::test_webhook_event_creation PASSED [ 79%]
tests/test_payments.py::TestWebhookProcessor::test_register_handler PASSED [ 80%]
tests/test_payments.py::TestWebhookProcessor::test_on_decorator PASSED   [ 80%]
tests/test_payments.py::TestWebhookProcessor::test_process_event_with_handler PASSED [ 80%]
tests/test_payments.py::TestWebhookProcessor::test_process_event_no_handler PASSED [ 80%]
tests/test_payments.py::TestWebhookProcessor::test_process_event_handler_error PASSED [ 80%]
tests/test_payments.py::TestSubscriptionWebhookHandler::test_handlers_registered PASSED [ 81%]
tests/test_payments.py::TestSubscriptionWebhookHandler::test_handle_checkout_completed PASSED [ 81%]
tests/test_payments.py::TestSubscriptionWebhookHandler::test_handle_subscription_deleted PASSED [ 81%]
tests/test_payments.py::TestCreditBalance::test_available_credits PASSED [ 81%]
tests/test_payments.py::TestCreditBalance::test_expired_credits PASSED   [ 81%]
tests/test_payments.py::TestCreditBalance::test_non_expired_credits PASSED [ 82%]
tests/test_payments.py::TestCreditManager::test_get_balance_new_user PASSED [ 82%]
tests/test_payments.py::TestCreditManager::test_add_credits PASSED       [ 82%]
tests/test_payments.py::TestCreditManager::test_use_credits PASSED       [ 82%]
tests/test_payments.py::TestCreditManager::test_use_credits_insufficient PASSED [ 82%]
tests/test_payments.py::TestCreditManager::test_reserve_and_commit PASSED [ 83%]
tests/test_payments.py::TestCreditManager::test_release_reservation PASSED [ 83%]
tests/test_payments.py::TestCreditManager::test_refund_credits PASSED    [ 83%]
tests/test_payments.py::TestCreditManager::test_get_transactions PASSED  [ 83%]
tests/test_payments.py::TestCreditManager::test_grant_subscription_credits PASSED [ 83%]
tests/test_payments.py::TestCreditManager::test_check_and_use_free_operation PASSED [ 84%]
tests/test_payments.py::TestCreditCosts::test_app_generation_costs PASSED [ 84%]
tests/test_payments.py::TestCreditCosts::test_free_deployments PASSED    [ 84%]
tests/test_payments.py::TestCreditCosts::test_business_formation_costs PASSED [ 84%]
tests/test_progress.py::TestStageStatus::test_status_values PASSED       [ 84%]
tests/test_progress.py::TestStageStatus::test_status_comparison PASSED   [ 85%]
tests/test_progress.py::TestPipelineProgress::test_initialization PASSED [ 85%]
tests/test_progress.py::TestPipelineProgress::test_context_manager_enter PASSED [ 85%]
tests/test_progress.py::TestPipelineProgress::test_start_stage PASSED    [ 85%]
tests/test_progress.py::TestPipelineProgress::test_complete_stage PASSED [ 85%]
tests/test_progress.py::TestPipelineProgress::test_fail_stage PASSED     [ 86%]
tests/test_progress.py::TestPipelineProgress::test_skip_stage PASSED     [ 86%]
tests/test_progress.py::TestPipelineProgress::test_timing_tracked PASSED [ 86%]
tests/test_progress.py::TestPipelineProgress::test_invalid_stage_name PASSED [ 86%]
tests/test_progress.py::TestPipelineProgress::test_multiple_stages_workflow PASSED [ 86%]
tests/test_progress.py::TestFileGenerationProgress::test_initialization PASSED [ 87%]
tests/test_progress.py::TestFileGenerationProgress::test_add_file PASSED [ 87%]
tests/test_progress.py::TestFileGenerationProgress::test_multiple_files PASSED [ 87%]
tests/test_progress.py::TestFileGenerationProgress::test_context_manager PASSED [ 87%]
tests/test_progress.py::TestSpinner::test_spinner_context_manager PASSED [ 87%]
tests/test_progress.py::TestSpinner::test_spinner_with_work PASSED       [ 88%]
tests/test_progress.py::TestSpinner::test_spinner_on_error PASSED        [ 88%]
tests/test_progress.py::TestPrintHelpers::test_print_success PASSED      [ 88%]
tests/test_progress.py::TestPrintHelpers::test_print_error PASSED        [ 88%]
tests/test_progress.py::TestPrintHelpers::test_print_warning PASSED      [ 88%]
tests/test_progress.py::TestPrintHelpers::test_print_info PASSED         [ 89%]
tests/test_progress.py::TestShowGeneratedFiles::test_show_files_list PASSED [ 89%]
tests/test_progress.py::TestShowGeneratedFiles::test_show_empty_list PASSED [ 89%]
tests/test_progress.py::TestShowIdeaSelection::test_show_ideas PASSED    [ 89%]
tests/test_progress.py::TestShowIdeaSelection::test_show_ideas_with_scores PASSED [ 89%]
tests/test_progress.py::TestProgressIntegration::test_nested_progress PASSED [ 90%]
tests/test_progress.py::TestProgressIntegration::test_error_recovery PASSED [ 90%]
tests/test_retry_cache.py::TestRetryConfig::test_default_values PASSED   [ 90%]
tests/test_retry_cache.py::TestRetryConfig::test_custom_values PASSED    [ 90%]
tests/test_retry_cache.py::TestCacheConfig::test_default_values PASSED   [ 90%]
tests/test_retry_cache.py::TestCacheConfig::test_custom_values PASSED    [ 91%]
tests/test_retry_cache.py::TestLLMCache::test_cache_key_generation PASSED [ 91%]
tests/test_retry_cache.py::TestLLMCache::test_cache_key_varies_with_model PASSED [ 91%]
tests/test_retry_cache.py::TestLLMCache::test_cache_key_varies_with_prompt PASSED [ 91%]
tests/test_retry_cache.py::TestLLMCache::test_cache_key_varies_with_temperature PASSED [ 91%]
tests/test_retry_cache.py::TestLLMCache::test_cache_miss PASSED          [ 92%]
tests/test_retry_cache.py::TestLLMCache::test_cache_set_and_get PASSED   [ 92%]
tests/test_retry_cache.py::TestLLMCache::test_cache_clear PASSED         [ 92%]
tests/test_retry_cache.py::TestLLMCache::test_cache_stats PASSED         [ 92%]
tests/test_retry_cache.py::TestLLMCache::test_disabled_cache PASSED      [ 92%]
tests/test_retry_cache.py::TestRateLimitDetection::test_detects_rate_limit_in_message PASSED [ 93%]
tests/test_retry_cache.py::TestRateLimitDetection::test_detects_429_error PASSED [ 93%]
tests/test_retry_cache.py::TestRateLimitDetection::test_detects_quota_exceeded PASSED [ 93%]
tests/test_retry_cache.py::TestRateLimitDetection::test_non_rate_limit_error PASSED [ 93%]
tests/test_retry_cache.py::TestRetryAfterExtraction::test_extract_from_message_with_minutes_seconds PASSED [ 93%]
tests/test_retry_cache.py::TestRetryAfterExtraction::test_extract_from_retry_after_header PASSED [ 94%]
tests/test_retry_cache.py::TestRetryAfterExtraction::test_no_retry_after PASSED [ 94%]
tests/test_retry_cache.py::TestRetryAfterExtraction::test_extract_from_seconds_only PASSED [ 94%]
tests/test_retry_cache.py::TestSmartRetry::test_successful_call_no_retry PASSED [ 94%]
tests/test_retry_cache.py::TestSmartRetry::test_retries_on_transient_error PASSED [ 94%]
tests/test_retry_cache.py::TestSmartRetry::test_retries_on_rate_limit PASSED [ 95%]
tests/test_retry_cache.py::TestSmartRetry::test_max_retries_exceeded PASSED [ 95%]
tests/test_retry_cache.py::TestSmartRetry::test_non_retryable_error_not_retried PASSED [ 95%]
tests/test_retry_cache.py::TestSmartRetry::test_retry_stats PASSED       [ 95%]
tests/test_retry_cache.py::TestConfigureLLMResilience::test_returns_both_configs PASSED [ 95%]
tests/test_retry_cache.py::TestConfigureLLMResilience::test_custom_retry_config PASSED [ 96%]
tests/test_retry_cache.py::TestConfigureLLMResilience::test_custom_cache_config PASSED [ 96%]
tests/test_retry_cache.py::TestRateLimitError::test_error_creation PASSED [ 96%]
tests/test_retry_cache.py::TestRateLimitError::test_error_without_retry_after PASSED [ 96%]
tests/test_retry_cache.py::TestTransientError::test_error_creation PASSED [ 96%]
tests/test_retry_cache.py::TestTransientError::test_inheritance PASSED   [ 97%]
tests/test_stripe_live.py::TestStripeConnection::test_stripe_api_key_valid SKIPPEDx)) [ 97%]
tests/test_stripe_live.py::TestStripeConnection::test_stripe_test_mode SKIPPEDx)) [ 97%]
tests/test_stripe_live.py::TestStripeCustomers::test_create_customer SKIPPEDx)) [ 97%]
tests/test_stripe_live.py::TestStripeCustomers::test_get_customer SKIPPEDx)) [ 97%]
tests/test_stripe_live.py::TestStripeCustomers::test_update_customer SKIPPEDx)) [ 98%]
tests/test_stripe_live.py::TestStripeProducts::test_list_products SKIPPEDx)) [ 98%]
tests/test_stripe_live.py::TestStripeProducts::test_list_prices SKIPPEDx)) [ 98%]
tests/test_stripe_live.py::TestStripePaymentMethods::test_create_payment_method SKIPPEDx)) [ 98%]
tests/test_stripe_live.py::TestStripePaymentMethods::test_attach_payment_method SKIPPEDx)) [ 98%]
tests/test_stripe_live.py::TestStripeSubscriptions::test_create_subscription SKIPPEDx)) [ 99%]
tests/test_stripe_live.py::TestStripeCheckout::test_create_checkout_session SKIPPEDx)) [ 99%]
tests/test_stripe_live.py::TestStripeBillingPortal::test_create_portal_session SKIPPEDx)) [ 99%]
tests/test_stripe_live.py::TestStripeWebhooks::test_webhook_signature_verification SKIPPEDx)) [ 99%]
tests/test_stripe_live.py::TestStripeRefunds::test_create_refund_flow SKIPPEDx)) [100%]

=================================== FAILURES ===================================
__________________ TestMessages.test_execution_plan_creation ___________________
tests/agents/test_agents.py:13: in test_execution_plan_creation
    plan = ExecutionPlan(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for ExecutionPlan
E   acceptance_criteria
E     Input should be a valid list [type=list_type, input_value='Has todos and acceptance criteria', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/list_type
E   execution_steps
E     Field required [type=missing, input_value={'app_description': 'A to...nd acceptance criteria'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.12/v/missing
E   estimated_complexity
E     Field required [type=missing, input_value={'app_description': 'A to...nd acceptance criteria'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.12/v/missing
E   required_agents
E     Field required [type=missing, input_value={'app_description': 'A to...nd acceptance criteria'}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.12/v/missing
_______________________ TestMessages.test_critic_review ________________________
tests/agents/test_agents.py:22: in test_critic_review
    review = CriticReview(
E   pydantic_core._pydantic_core.ValidationError: 2 validation errors for CriticReview
E   critic_role
E     Field required [type=missing, input_value={'decision': <CriticDecis...Consider adding tests']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.12/v/missing
E   reasoning
E     Field required [type=missing, input_value={'decision': <CriticDecis...Consider adding tests']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.12/v/missing
___________________ TestCodeCritic.test_code_critic_creation ___________________
tests/agents/test_agents.py:33: in test_code_critic_creation
    assert critic.role == AgentRole.CRITIC
E   AssertionError: assert <AgentRole.CODE_CRITIC: 'code_critic'> == <AgentRole.CRITIC: 'critic'>
E     
E     - critic
E     + code_critic
=============================== warnings summary ===============================
tests/test_business.py: 78 warnings
tests/test_deployment.py: 4 warnings
tests/test_generator.py: 32 warnings
tests/test_idea_generation.py: 2 warnings
  /home/codespace/.python/current/lib/python3.12/site-packages/pydantic/main.py:250: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)

tests/test_business.py: 10 warnings
  <string>:19: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).

tests/test_business.py: 10 warnings
  <string>:20: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).

tests/test_dashboard.py::TestDashboardIntegration::test_home_page
tests/test_dashboard.py::TestDashboardIntegration::test_dashboard_page
  /home/codespace/.python/current/lib/python3.12/site-packages/starlette/templating.py:162: DeprecationWarning: The `name` is not the first parameter anymore. The first parameter should be the `Request` instance.
  Replace `TemplateResponse(name, {"request": request})` by `TemplateResponse(request, name)`.
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/agents/test_agents.py::TestMessages::test_execution_plan_creation - pydantic_core._pydantic_core.ValidationError: 4 validation errors for ExecutionPlan
acceptance_criteria
  Input should be a valid list [type=list_type, input_value='Has todos and acceptance criteria', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/list_type
execution_steps
  Field required [type=missing, input_value={'app_description': 'A to...nd acceptance criteria'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
estimated_complexity
  Field required [type=missing, input_value={'app_description': 'A to...nd acceptance criteria'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
required_agents
  Field required [type=missing, input_value={'app_description': 'A to...nd acceptance criteria'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
FAILED tests/agents/test_agents.py::TestMessages::test_critic_review - pydantic_core._pydantic_core.ValidationError: 2 validation errors for CriticReview
critic_role
  Field required [type=missing, input_value={'decision': <CriticDecis...Consider adding tests']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
reasoning
  Field required [type=missing, input_value={'decision': <CriticDecis...Consider adding tests']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
FAILED tests/agents/test_agents.py::TestCodeCritic::test_code_critic_creation - AssertionError: assert <AgentRole.CODE_CRITIC: 'code_critic'> == <AgentRole.CRITIC: 'critic'>
  
  - critic
  + code_critic
=========== 3 failed, 479 passed, 14 skipped, 138 warnings in 22.28s ===========
