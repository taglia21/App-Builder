# OTREP-X PRIME - Trading Configuration
# Phase III: Hybrid Strategy Configuration

TRADING:
  SYMBOLS:
    - SPY
    - QQQ
    - IWM
  CAPITAL: 100000.0
  MAX_POSITION_SIZE: 0.1
  STOP_LOSS: 0.02
  TAKE_PROFIT: 0.04

STRATEGY:
  TIMEFRAME: '5Min'
  MOMENTUM_LOOKBACK: 20
  TREND_LOOKBACK: 15
  SIGNAL_THRESHOLD: 0.15
  NEUTRAL_THRESHOLD: 0.05
  SIGNAL_WEIGHTS:
    MOMENTUM: 0.5       # Reduced weight for Hybrid
    TREND: 0.0          # Trend signal is now deprecated. Set to 0.0.
    MEAN_REVERSION: 0.5 # New weight for Mean Reversion component
  
  MEAN_REVERSION:
    ENABLED: true
    LOOKBACK: 20                  # Lookback for SMA and STD (20 periods for classic BB)
    BB_STD_DEV_MULTIPLIER: 2.0    # Standard Bollinger Band factor
    REVERSION_THRESHOLD: 0.01     # A tuning parameter (can be ignored for now, focus on scaling)
    
  ADAPTIVE:
    ENABLED: true
    VOLATILITY_SCALING: true
    MIN_VOLATILITY: 0.005
    MAX_VOLATILITY: 0.05
    REGIME_DETECTION: true
    REGIME_LOOKBACK: 50
    HIGH_VOL_THRESHOLD: 0.03
    LOW_VOL_THRESHOLD: 0.01

DATA:
  PROVIDER: polygon
  POLYGON_API_KEY: ${POLYGON_API_KEY}
  CACHE_ENABLED: true
  CACHE_TTL: 3600

BACKTEST:
  START_DATE: '2024-06-01'
  END_DATE: '2024-12-01'
  INITIAL_CAPITAL: 100000.0
  COMMISSION: 0.001
  SLIPPAGE: 0.0005

OPTIMIZATION:
  ENABLED: true
  METRIC: sharpe_ratio
  WALK_FORWARD:
    ENABLED: true
    IN_SAMPLE_DAYS: 90
    OUT_SAMPLE_DAYS: 30

RISK_MANAGEMENT:
  MAX_DRAWDOWN: 0.15
  DAILY_LOSS_LIMIT: 0.03
  POSITION_SIZING: fractional
  KELLY_FRACTION: 0.5

LOGGING:
  LEVEL: INFO
  FILE: logs/trading.log
  FORMAT: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
